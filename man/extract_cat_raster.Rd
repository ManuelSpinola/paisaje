% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract_cat_raster.R
\name{extract_cat_raster}
\alias{extract_cat_raster}
\title{Extract Categorical Raster Data and Summarize by Grid}
\usage{
extract_cat_raster(cat_raster, grid_sf, proportion = FALSE)
}
\arguments{
\item{cat_raster}{A categorical raster layer (e.g., land cover or land use) from which the values will be extracted.}

\item{grid_sf}{A spatial grid object of class `sf` that defines the areas over which the raster values will be summarized. The geometries should be `POLYGON` or `MULTIPOLYGON`.}

\item{proportion}{Logical. If `TRUE`, the function returns the proportion of each land cover category in each grid cell. If `FALSE`, it returns the raw pixel counts. Default is `FALSE`.}
}
\value{
An `sf` object with the original grid geometries and additional columns for each land cover category, containing either the number of pixels or the proportion of pixels in each category per grid cell.
}
\description{
This function extracts categorical data (e.g., land cover or land use) from a raster using a spatial grid object (in `sf` format) and summarizes the number or proportion of pixels for each category in each grid cell.
}
\details{
The function first checks that the geometries in the `grid_sf` object are valid, and ensures that the geometries are either `POLYGON` or `MULTIPOLYGON`. It then uses the `terra::extract()` function to extract the categorical data from the raster and aggregates the results either as counts or proportions, depending on the value of the `proportion` argument.
}
\examples{
\dontrun{
# Load a categorical raster (e.g., land cover)
land_cover_raster <- terra::rast("path_to_land_cover_raster.tif")

# Load an sf grid object
grid_sf <- sf::st_read("path_to_grid_shapefile.shp")

# Extract land cover counts for each grid cell
result_sf <- extract_cat_raster(land_cover_raster, grid_sf, proportion = FALSE)

# Extract land cover proportions for each grid cell
result_sf_proportion <- extract_cat_raster(land_cover_raster, grid_sf, proportion = TRUE)
}

}
